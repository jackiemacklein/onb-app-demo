{"version":3,"sources":["utils/api.jsx","../node_modules/date-fns/esm/parseISO/index.js","pages/Operational/PdvShow/content.jsx"],"names":["api","axios","create","baseURL","interceptors","request","use","config","headers","Cookies","get","error","Promise","reject","patterns","dateTimeDelimiter","timeZoneDelimiter","timezone","dateRegex","timeRegex","timezoneRegex","parseISO","argument","dirtyOptions","requiredArgs","arguments","options","additionalDigits","toInteger","RangeError","Object","prototype","toString","call","Date","NaN","date","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","restDateString","year","isNaN","offset","timestamp","getTime","time","parseTime","dirtyDate","result","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","setFullYear","parseTimezone","dateString","timeString","array","split","length","test","substr","token","exec","replace","regex","RegExp","captures","match","parseInt","century","slice","isWeekDate","dayOfYear","parseDateUnit","month","day","week","dayOfWeek","_year","validateWeekDate","isoWeekYear","setUTCFullYear","fourthOfJanuaryDay","getUTCDay","diff","setUTCDate","dayOfISOWeekYear","daysInMonths","isLeapYearIndex","validateDate","validateDayOfYearDate","Math","max","value","hours","parseTimeUnit","minutes","seconds","validateTime","parseFloat","timezoneString","sign","_hours","validateTimezone","Content","props","state","modalNewClientOpen","modalEditOpen","modalPaymentOpen","inputValue","data","payment_methods","updateValues","cancelPassword","canceling","paying","payment_method_text","payment_method_id","coupon","item_edit_id","item_edit_name","item_edit_count","item_edit_stock","item_edit_value","item_edit_discount_amount","item_edit_discount_percentage","item_edit_maximum_discount","item_edit_amount","item_edit_type","client_id","client_name","client_phone","client_cpf","client_email","loading","loadData","bind","getState","getColor","handleCancelSaleCart","toggleModalCancelOpen","toggleModalEditOpen","handleEditProductInSale","handleEditServiceInSale","id","this","params","setState","console","log","addToast","history","title","content","duration","color","post","password","response","status","products","map","item","product_id","product","additionals","find","i","virtual_stock","stock","count","name","unit_value","toFixed","toLocaleString","discount_amount","discount_percentage","maximum_discount","amount","services","service_id","service","prevState","modalCancelOpen","prevProps","className","key","onClick","style","flex","block","payment_method","closed_at","format","canceled_at","user","closed_by","canceled_by","to","target","client","isOpen","toggle","fade","for","placeholder","type","onChange","event","disabled","readOnly","Component","connect","settings","toasts","actionAddToast","withRouter"],"mappings":"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","file":"static/js/52.e1e7c92d.chunk.js","sourcesContent":["import axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nconst api = axios.create({ baseURL: \"https://onb-api-demo.agenciaonside.com.br\" });\n//const api = axios.create({ baseURL: \"http://192.168.1.5:8080\" });\n\napi.interceptors.request.use(\n  config => {\n    config.headers[\"Authorization\"] = \"bearer \" + Cookies.get(\"rui-auth-token\");\n    return config;\n  },\n  error => {\n    Promise.reject(error);\n  },\n);\n\nexport default api;\n","import toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar DEFAULT_ADDITIONAL_DIGITS = 2;\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The previous `parse` implementation was renamed to `parseISO`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward\n *   parseISO('2016-01-01')\n *   ```\n *\n * - `parseISO` now validates separate date and time values in ISO-8601 strings\n *   and returns `Invalid Date` if the date is invalid.\n *\n *   ```javascript\n *   parseISO('2018-13-32')\n *   //=> Invalid Date\n *   ```\n *\n * - `parseISO` now doesn't fall back to `new Date` constructor\n *   if it fails to parse a string argument. Instead, it returns `Invalid Date`.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nexport default function parseISO(argument, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var additionalDigits = options.additionalDigits == null ? DEFAULT_ADDITIONAL_DIGITS : toInteger(options.additionalDigits);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var date;\n\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (isNaN(date) || !date) {\n    return new Date(NaN);\n  }\n\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n\n    if (isNaN(time) || time === null) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time); // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n\n    var result = new Date(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate(), dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    result.setFullYear(dirtyDate.getUTCFullYear());\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString; // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    dateStrings.date = null;\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex); // Invalid ISO-formatted year\n\n  if (!captures) return {\n    year: null\n  };\n  var year = captures[1] && parseInt(captures[1]);\n  var century = captures[2] && parseInt(captures[2]);\n  return {\n    year: century == null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return null;\n  var captures = dateString.match(dateRegex); // Invalid ISO-formatted string\n\n  if (!captures) return null;\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return null; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000;\n}\n\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n// February is null to handle the leap year (using ||)\n\n\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100;\n}\n\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}","/**\n * External Dependencies\n */\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { Card, CardImg, CardBody, CardTitle, CardText, Button, Row, Col, Input, Label, FormGroup } from \"reactstrap\";\nimport { Modal, ModalBody, ModalFooter } from \"reactstrap\";\nimport AsyncSelect from \"react-select/async\";\n\n/**\n * Internal Dependencies\n */\nimport Icon from \"../../../components/icon\";\nimport api from \"./../../../utils/api\";\nimport { format, parseISO } from \"date-fns\";\nimport { addToast as actionAddToast } from \"../../../actions\";\n\n/**\n * Component\n */\nclass Content extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalNewClientOpen: false,\n      modalEditOpen: false,\n      modalPaymentOpen: false,\n\n      inputValue: \"\",\n\n      data: {},\n      payment_methods: [],\n      updateValues: false,\n      cancelPassword: \"\",\n      canceling: false,\n      paying: false,\n      payment_method_text: \"\",\n      payment_method_id: \"\",\n      coupon: \"\",\n      item_edit_id: \"\",\n      item_edit_name: \"\",\n      item_edit_count: \"\",\n      item_edit_stock: \"\",\n      item_edit_value: 0,\n      item_edit_discount_amount: 0,\n      item_edit_discount_percentage: 0,\n      item_edit_maximum_discount: 0,\n      item_edit_amount: 0,\n      item_edit_type: 0,\n\n      client_id: {},\n      client_name: \"\",\n      client_phone: \"\",\n      client_cpf: \"\",\n      client_email: \"\",\n\n      loading: false,\n    };\n\n    this.loadData = this.loadData.bind(this);\n    this.getState = this.getState.bind(this);\n    this.getColor = this.getColor.bind(this);\n    this.handleCancelSaleCart = this.handleCancelSaleCart.bind(this);\n    this.toggleModalCancelOpen = this.toggleModalCancelOpen.bind(this);\n    this.toggleModalEditOpen = this.toggleModalEditOpen.bind(this);\n\n    this.handleEditProductInSale = this.handleEditProductInSale.bind(this);\n    this.handleEditServiceInSale = this.handleEditServiceInSale.bind(this);\n  }\n\n  async loadData() {\n    const { id } = this.props.match.params;\n    try {\n      const { data } = await api.get(`/sales/${id}`);\n      this.setState({ data });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  //responsavel por enviar o cancelamento da venda\n  /* cancel/save sale */\n  async handleCancelSaleCart() {\n    const { addToast, history } = this.props;\n\n    if (!this.state.cancelPassword) {\n      this.toggleModalCancelOpen();\n      addToast({ title: \"Digite a Senha\", content: \"Por favor, informe sua senha de acesso.\", time: new Date(), duration: 12000, color: \"warning\" });\n      return false;\n    }\n\n    this.setState({ canceling: true });\n\n    try {\n      await api.post(`/sale/cancel/${this.state.data.id}`, { password: this.state.cancelPassword });\n      addToast({ title: \"Sucesso!\", content: \"Venda/Serviço Cancelada(o) com sucesso.\", time: new Date(), duration: 12000, color: \"success\" });\n\n      this.loadData();\n    } catch (error) {\n      if (error.response) {\n        if (error.response.status) {\n          if (error.response.status == 401) {\n            addToast({\n              title: \"Acesso Negado!\",\n              content: \"Desculpe, não foi possivel cancelar a(o) venda/servico!\",\n              time: new Date(),\n              duration: 12000,\n              color: \"warning\",\n            });\n          }\n        }\n      } else {\n        addToast({ title: \"Erro desconhecido!\", content: \"Desculpe, Tente novamente\", time: new Date(), duration: 12000, color: \"error\" });\n      }\n      this.setState({ cancelPassword: \"\", canceling: false });\n      this.toggleModalCancelOpen();\n    }\n  }\n\n  async handleEditProductInSale(id) {\n    this.setState({ item_edit_type: \"products\" });\n\n    this.state.data.products.map(item => {\n      if (item.product_id === id) {\n        let product = this.state.data.additionals.products.find(i => i.id === item.product_id);\n        if (product.virtual_stock) product.virtual_stock = product.virtual_stock;\n        else product.virtual_stock = product.stock - item.count;\n\n        this.setState({ item_edit_id: item.product_id });\n        this.setState({ item_edit_name: `${item.product.name} (R$ ${item.unit_value.toFixed(2).toLocaleString()})` });\n        this.setState({ item_edit_count: item.count });\n        this.setState({ item_edit_stock: product.virtual_stock });\n        this.setState({ item_edit_value: item.unit_value });\n        this.setState({ item_edit_discount_amount: item.discount_amount ?? 0 });\n        this.setState({ item_edit_discount_percentage: item.discount_percentage ?? 0 });\n        this.setState({ item_edit_maximum_discount: item.product.maximum_discount ?? 0 });\n        this.setState({ item_edit_amount: item.amount });\n      }\n    });\n\n    this.toggleModalEditOpen();\n  }\n  async handleEditServiceInSale(id) {\n    this.setState({ item_edit_type: \"services\" });\n    this.state.data.services.map(item => {\n      if (item.service_id === id) {\n        this.setState({ item_edit_id: item.service_id });\n        this.setState({ item_edit_name: `${item.service.name} (R$ ${item.unit_value?.toLocaleString()})` });\n        this.setState({ item_edit_count: item.count });\n        this.setState({ item_edit_stock: 10000000 });\n        this.setState({ item_edit_value: item.unit_value });\n        this.setState({ item_edit_discount_amount: item.discount_amount ?? 0 });\n        this.setState({ item_edit_discount_percentage: item.discount_percentage ?? 0 });\n        this.setState({ item_edit_maximum_discount: 100 });\n        this.setState({ item_edit_amount: item.amount });\n      }\n    });\n\n    this.toggleModalEditOpen();\n  }\n\n  getState(state) {\n    switch (state) {\n      case \"open\":\n        return \"Aberta\";\n        break;\n      case \"closed\":\n        return \"Fechada\";\n        break;\n      case \"canceled\":\n        return \"Cancelada\";\n        break;\n    }\n  }\n\n  getColor(state) {\n    switch (state) {\n      case \"open\":\n        return \"warning\";\n        break;\n      case \"closed\":\n        return \"success\";\n        break;\n      case \"canceled\":\n        return \"danger\";\n        break;\n    }\n  }\n\n  toggleModalCancelOpen() {\n    this.setState(prevState => ({\n      modalCancelOpen: !prevState.modalCancelOpen,\n    }));\n  }\n\n  toggleModalEditOpen() {\n    this.setState(prevState => ({\n      modalEditOpen: !prevState.modalEditOpen,\n    }));\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"row vertical-gap\">\n          <div className=\"col-lg-6 order-lg-12 rui-task-sidebar order-1\">\n            <div className=\"card card-border-effect-kie\">\n              <div className=\"card-body py-30\">\n                <ul className=\"list-group list-group-flush rui-task-sidebar-list\">\n                  <li className=\"list-group-item\">\n                    <ul className=\"list-unstyled rui-task-info-list\">\n                      {this.state.data?.services?.map(item => (\n                        <li key={item.id} onClick={() => this.handleEditServiceInSale(item.service.id)}>\n                          <div className=\"rui-task-info-item\">\n                            <Icon name=\"eye\" className=\"mr-5\" />\n                            <h6 className=\"h6 rui-task-sidebar-title text-right mb-0 mt-0\">\n                              <strong>x{item.count}</strong> -\n                            </h6>\n                            <span className=\"list-items-sale\">{item.service.name}</span>\n                            <h6 className=\"h6 rui-task-sidebar-title text-right mb-0 mt-0\">\n                              <strong>R$ {item.amount?.toFixed(2).toLocaleString()}</strong>\n                            </h6>\n                          </div>\n                        </li>\n                      ))}\n\n                      {this.state.data?.products?.map(item => (\n                        <li key={item.product.id} onClick={() => this.handleEditProductInSale(item.product.id)}>\n                          <div className=\"rui-task-info-item\">\n                            <Icon name=\"eye\" className=\"mr-5\" />\n\n                            <h6 className=\"h6 rui-task-sidebar-title text-right mb-0 mt-0\">\n                              <strong>x{item.count}</strong> -\n                            </h6>\n                            <span className=\"list-items-sale\">{item.product.name}</span>\n                            <h6 className=\"h6 rui-task-sidebar-title text-right mb-0 mt-0\">\n                              <strong>R$ {item.amount?.toFixed(2).toLocaleString()}</strong>\n                            </h6>\n                          </div>\n                        </li>\n                      ))}\n                    </ul>\n                  </li>\n                  <li className=\"list-group-item\">\n                    <h5 className=\"h4 rui-task-sidebar-title text-right mb-0 mt-0\">\n                      <strong>R$ {this.state.data?.amount?.toFixed(2).toLocaleString()}</strong>\n                    </h5>\n                  </li>\n                  <li className=\"list-group-item\">\n                    <h5 className=\"h4 rui-task-sidebar-title\">Pago através:</h5>\n                    <ul className=\"list-unstyled rui-task-project-list payment-types payment-by\">\n                      <li className=\"payment-type\" style={{ flex: 1 }}>\n                        <Button block className=\"btn-hover-outline text-center\" color={this.state?.data?.payment_method?.color}>\n                          {this.state?.data?.payment_method?.name}\n                        </Button>\n                      </li>\n                      {this.state.data.state !== \"canceled\" ? (\n                        <>\n                          <li className=\"payment-type\" style={{ flex: 1 }}>\n                            <Button block className=\"btn-hover-outline text-center\" color=\"light\" onClick={this.toggleModalCancelOpen}>\n                              Cancelar\n                            </Button>\n                          </li>\n                        </>\n                      ) : (\n                        <></>\n                      )}\n                    </ul>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-lg-6 order-lg-0 order-0\">\n            <div className=\"rui-task-comment\">\n              <div className=\"media media-show\">\n                <div className={`rui-task-status rui-task-status-${this.getColor(this.state.data.state)}`}>\n                  <div className=\"row vertical-gap align-items-center sm-gap\">\n                    <div className=\"col-auto\">\n                      <div className=\"rui-task-status-item\">\n                        <div className=\"rui-task-status-item-icon\">\n                          <Icon name=\"check-circle\" />\n                        </div>\n                        {this.state.data.state === \"closed\" ? (\n                          <>\n                            Fechada em <mark>{this.state.data.closed_at ? format(parseISO(this.state.data.closed_at), \"dd'/'MM'/'yyyy HH':'mm\") : \"\"}</mark>\n                          </>\n                        ) : (\n                          <>\n                            {this.state.data.state === \"canceled\" ? (\n                              <>\n                                Cancelada em{\" \"}\n                                <mark>{this.state.data.canceled_at ? format(parseISO(this.state.data.canceled_at), \"dd'/'MM'/'yyyy HH':'mm\") : \"\"}</mark>\n                              </>\n                            ) : (\n                              <>\n                                {this.getState(this.state.data.state)} em{\" \"}\n                                <mark>{this.state.data.date ? format(parseISO(this.state.data.date), \"dd'/'MM'/'yyyy HH':'mm\") : \"\"}</mark>\n                              </>\n                            )}\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <span className=\"media-link sale-details\">\n                  <span className=\"media-body\">\n                    <span className=\"media-title\">\n                      Aberta por:{\" \"}\n                      <mark>\n                        <strong>{this.state.data?.user?.name}</strong>\n                      </mark>\n                    </span>\n                    {this.state.data.state === \"closed\" ? (\n                      <>\n                        <span className=\"media-title\">\n                          Fechada por:{\" \"}\n                          <mark>\n                            <strong>{this.state.data?.closed_by?.name}</strong>\n                          </mark>\n                        </span>\n                      </>\n                    ) : (\n                      <>\n                        {this.state.data.state === \"canceled\" ? (\n                          <>\n                            <span className=\"media-title\">\n                              Cancelada por:{\" \"}\n                              <mark>\n                                <strong>{this.state.data?.canceled_by?.name}</strong>\n                              </mark>\n                            </span>\n                          </>\n                        ) : (\n                          <></>\n                        )}\n                      </>\n                    )}\n                    <small className=\"media-title\">\n                      Cliente:{\" \"}\n                      <mark>\n                        {this.state.data.client_id ? (\n                          <>\n                            <Link to={`/crm/clientes/show/${this.state.data.client_id}`} target=\"_blank\">\n                              <strong>{this.state?.data?.client?.name ?? this.state?.data?.client_name}</strong>\n                            </Link>\n                          </>\n                        ) : (\n                          <>\n                            <strong>{this.state?.data?.client?.name ?? this.state?.data?.client_name}</strong>\n                          </>\n                        )}\n                      </mark>\n                    </small>\n                  </span>\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/** model que solicita a senha para cancelamento */}\n        <Modal isOpen={this.state.modalCancelOpen} toggle={this.toggleModalCancelOpen} className={this.props.className} fade>\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title h2\">Cancelar Venda/Serviço</h5>\n            <Button className=\"close\" color=\"\" onClick={this.toggleModalCancelOpen}>\n              <Icon name=\"x\" />\n            </Button>\n          </div>\n          <ModalBody>\n            Tem Certeza que deseja cancelar a venda #{this.state.data.id}? <mark>Todos os lançamentos e o fluxo de caixa serão impactados.</mark>\n            <br />\n            <FormGroup>\n              <Label for=\"password\">Senha</Label>\n              <Input\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"***\"\n                type=\"password\"\n                value={this.state.cancelPassword}\n                onChange={event => this.setState({ cancelPassword: event.target.value })}\n              />\n            </FormGroup>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModalCancelOpen}>\n              Fechar\n            </Button>{\" \"}\n            <Button color=\"brand\" onClick={this.handleCancelSaleCart} disabled={this.state.canceling}>\n              {this.state.canceling ? \"Cancelando...\" : \"Cancelar\"}\n            </Button>\n          </ModalFooter>\n        </Modal>\n\n        {/** modal que edita os items na venda */}\n        <Modal isOpen={this.state.modalEditOpen} toggle={this.toggleModalEditOpen} className={this.props.className} fade>\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title h2\">Item da Venda/Serviço</h5>\n            <Button className=\"close\" color=\"\" onClick={this.toggleModalEditOpen}>\n              <Icon name=\"x\" />\n            </Button>\n          </div>\n          <ModalBody>\n            <mark className=\"display-4\">{this.state.item_edit_name}</mark>\n            <br />\n            <br />\n            <FormGroup>\n              <Label for=\"count\">Quantidade</Label>\n              <Input id=\"count\" name=\"count\" placeholder=\"count\" type=\"number\" disabled readOnly value={this.state.item_edit_count} />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"discount_amount\">R$ de Desconto</Label>\n              <Input\n                id=\"discount_amount\"\n                name=\"discount_amount\"\n                placeholder=\"0,00\"\n                type=\"text\"\n                disabled\n                readOnly\n                value={this.state.item_edit_discount_amount.toFixed(2).toLocaleString()}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"item_edit_discount_percentage\">% de Desconto</Label>\n              <Input\n                id=\"item_edit_discount_percentage\"\n                name=\"item_edit_discount_percentage\"\n                placeholder=\"0,00\"\n                type=\"text\"\n                disabled\n                readOnly\n                value={this.state.item_edit_discount_percentage.toFixed(2).toLocaleString()}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"item_edit_amount\">R$ Total</Label>\n              <Input\n                id=\"item_edit_amount\"\n                disabled\n                readOnly\n                name=\"item_edit_amount\"\n                placeholder=\"0,00\"\n                type=\"text\"\n                value={this.state.item_edit_amount.toFixed(2).toLocaleString()}\n              />\n            </FormGroup>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModalEditOpen}>\n              Fechar\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(\n  ({ settings, toasts }) => ({\n    settings,\n    toasts,\n  }),\n  {\n    addToast: actionAddToast,\n  },\n)(withRouter(Content));\n"],"sourceRoot":""}