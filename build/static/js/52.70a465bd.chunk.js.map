{"version":3,"sources":["utils/api.jsx","pages/Operational/PdvApp/Payment/content.jsx"],"names":["api","axios","create","baseURL","interceptors","request","use","config","headers","Cookies","get","error","Promise","reject","Content","props","state","modalNewClientOpen","modalEditOpen","modalPaymentOpen","inputValue","data","payment_methods","updateValues","cancelPassword","canceling","paying","payment_method_text","payment_method_id","coupon","item_edit_id","item_edit_name","item_edit_count","item_edit_stock","item_edit_value","item_edit_discount_amount","item_edit_discount_percentage","item_edit_maximum_discount","item_edit_amount","item_edit_type","client_id","client_name","client_phone","client_cpf","client_email","loading","loadData","bind","loadPaymentMethods","getState","getColor","handleAddProduct","handleAddService","handleCancelSaleCart","toggleModalCancelOpen","toggleModalPaymentOpen","toggleModalEditOpen","handlePay","handleCloseSaleCart","handleChangeCountItem","handleEditProductInSale","handleRecalcValuesItem","handleCalcDiscountByAmount","handleCalcDiscountByPercent","handleEditSaleCart","handleEditServiceInSale","handleDeleteItemCart","filterClient","loadClients","handleInputChange","toggleModalNewClientOpen","handleSaveNewClient","this","setState","prevState","id","match","params","console","log","callback","addToast","length","title","content","time","Date","duration","color","term","map","d","value","label","cpf","phone","name","newValue","pro","additionals","products","find","i","stock","alert","productCount","product_id","product","count","discount_amount","amount","unit_value","push","sale_price","discount_percentage","sale_id","virtual_stock","services","service_id","service","price","history","post","password","response","status","pack","origin","filter","p","put","pay_id","pay_text","parseInt","newAmount","item","toLocaleString","maximum_discount","percent","parseFloat","discont","index","virtualStock","news","event","preventDefault","profile_id","email","is_active","more","modalCancelOpen","prevProps","totalValue","customStyles","control","css","borderColor","isFocused","boxShadow","option","bgc","isSelected","backgroundColor","multiValueLabel","className","key","onClick","block","style","flex","xs","sm","md","for","cacheOptions","loadOptions","defaultOptions","onInputChange","styles","defaultValue","onChange","row","lg","alt","src","top","date","format","parseISO","user","isOpen","toggle","fade","placeholder","type","target","disabled","min","max","onKeyUp","onSubmit","required","Component","connect","settings","toasts","actionAddToast","withRouter"],"mappings":"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","file":"static/js/52.70a465bd.chunk.js","sourcesContent":["import axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nconst api = axios.create({ baseURL: \"http://onb-api-demo.agenciaonside.com.br\" });\n//const api = axios.create({ baseURL: \"http://192.168.1.5:8080\" });\n\napi.interceptors.request.use(\n  config => {\n    config.headers[\"Authorization\"] = \"bearer \" + Cookies.get(\"rui-auth-token\");\n    return config;\n  },\n  error => {\n    Promise.reject(error);\n  },\n);\n\nexport default api;\n","/**\n * External Dependencies\n */\nimport React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\n//import { Link } from \"react-router-dom\";\nimport { Card, CardImg, CardBody, CardTitle, CardText, Button, Row, Col, Input, Label, FormGroup } from \"reactstrap\";\nimport { Modal, ModalBody, ModalFooter } from \"reactstrap\";\nimport AsyncSelect from \"react-select/async\";\n\n/**\n * Internal Dependencies\n */\nimport Icon from \"../../../../components/icon\";\nimport api from \"./../../../../utils/api\";\nimport { format, parseISO } from \"date-fns\";\nimport { addToast as actionAddToast } from \"../../../../actions\";\n\n/**\n * Component\n */\nclass Content extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalNewClientOpen: false,\n      modalEditOpen: false,\n      modalPaymentOpen: false,\n\n      inputValue: \"\",\n\n      data: {},\n      payment_methods: [],\n      updateValues: false,\n      cancelPassword: \"\",\n      canceling: false,\n      paying: false,\n      payment_method_text: \"\",\n      payment_method_id: \"\",\n      coupon: \"\",\n      item_edit_id: \"\",\n      item_edit_name: \"\",\n      item_edit_count: \"\",\n      item_edit_stock: \"\",\n      item_edit_value: \"\",\n      item_edit_discount_amount: \"\",\n      item_edit_discount_percentage: \"\",\n      item_edit_maximum_discount: 0,\n      item_edit_amount: \"\",\n      item_edit_type: \"\",\n\n      client_id: {},\n      client_name: \"\",\n      client_phone: \"\",\n      client_cpf: \"\",\n      client_email: \"\",\n\n      loading: false,\n    };\n\n    this.loadData = this.loadData.bind(this);\n    this.loadPaymentMethods = this.loadPaymentMethods.bind(this);\n    this.getState = this.getState.bind(this);\n    this.getColor = this.getColor.bind(this);\n    this.handleAddProduct = this.handleAddProduct.bind(this);\n    this.handleAddService = this.handleAddService.bind(this);\n    this.handleCancelSaleCart = this.handleCancelSaleCart.bind(this);\n    this.toggleModalCancelOpen = this.toggleModalCancelOpen.bind(this);\n    this.toggleModalPaymentOpen = this.toggleModalPaymentOpen.bind(this);\n    this.toggleModalEditOpen = this.toggleModalEditOpen.bind(this);\n    this.handlePay = this.handlePay.bind(this);\n    this.handleCloseSaleCart = this.handleCloseSaleCart.bind(this);\n    this.handleChangeCountItem = this.handleChangeCountItem.bind(this);\n    this.handleEditProductInSale = this.handleEditProductInSale.bind(this);\n    this.handleRecalcValuesItem = this.handleRecalcValuesItem.bind(this);\n    this.handleCalcDiscountByAmount = this.handleCalcDiscountByAmount.bind(this);\n    this.handleCalcDiscountByPercent = this.handleCalcDiscountByPercent.bind(this);\n    this.handleEditSaleCart = this.handleEditSaleCart.bind(this);\n    this.handleEditServiceInSale = this.handleEditServiceInSale.bind(this);\n    this.handleDeleteItemCart = this.handleDeleteItemCart.bind(this);\n\n    this.filterClient = this.filterClient.bind(this);\n    this.loadClients = this.loadClients.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n\n    this.toggleModalNewClientOpen = this.toggleModalNewClientOpen.bind(this);\n    this.handleSaveNewClient = this.handleSaveNewClient.bind(this);\n  }\n\n  toggleModalNewClientOpen() {\n    this.setState(prevState => ({\n      modalNewClientOpen: !prevState.modalNewClientOpen,\n      client_name: \"\",\n      client_cpf: \"\",\n      client_phone: \"\",\n    }));\n  }\n\n  async loadData() {\n    const { id } = this.props.match.params;\n    try {\n      const { data } = await api.get(`/sales/${id}`);\n      this.setState({ data });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async filterClient(inputValue, callback) {\n    const { addToast } = this.props;\n\n    if (inputValue != \"\") {\n      if (inputValue.length >= 2) callback(await this.loadClients(inputValue));\n      else addToast({ title: \"Atenção!\", content: \"Digite ao menos 2 letras para pesquisar\", time: new Date(), duration: 5000, color: \"warning\" });\n    }\n  }\n\n  async loadClients(term) {\n    const { addToast } = this.props;\n    try {\n      const { data } = await api.get(`/crm/clients/?term=${term}`);\n      return data.map(d => {\n        return { value: d.id, label: `${d.cpf ? `[${d.cpf}] - ` : d.phone ? `[${d.phone}] - ` : \"\"}${d.name}` };\n      });\n    } catch (error) {\n      addToast({ title: \"Erro!\", content: \"Ocorreu um erro ao buscar cliente\", time: new Date(), duration: 12000, color: \"danger\" });\n      console.log(error);\n    }\n  }\n\n  handleInputChange(newValue) {\n    const inputValue = newValue;\n    this.setState({ inputValue });\n    return inputValue;\n  }\n\n  async loadPaymentMethods() {\n    try {\n      const { data } = await api.get(`/payment_methods/`);\n      this.setState({ payment_methods: data });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  //funçoes responsaveis por adicionar items no carrinho\n  handleAddProduct(id) {\n    const pro = this.state.data.additionals.products.find(i => i.id === id);\n\n    if (!pro) {\n      alert(\"Erro desconhecido\");\n      return;\n    }\n\n    //verifica se tem o produto em estoque\n    if (pro.stock <= 0) {\n      alert(\"Estoque indisponível\");\n      return;\n    }\n\n    let productCount = 1;\n    //verifica se o produto já está incluso na venda\n    const exists = this.state.data.products.find(i => i.product_id === id);\n    if (exists) {\n      this.state.data.products.map(product => {\n        if (product.product_id === id) {\n          product.count = product.count + 1;\n          if (product.discount_amount) product.amount = (product.unit_value - product.discount_amount) * product.count;\n          else product.amount = product.unit_value * product.count;\n\n          productCount = product.count;\n        }\n      });\n    } else {\n      this.state.data.products.push({\n        amount: pro.sale_price,\n        count: 1,\n        discount_amount: null,\n        discount_percentage: null,\n        product_id: pro.id,\n        sale_id: this.state.data.id,\n        unit_value: pro.sale_price,\n        product: pro,\n      });\n    }\n\n    //atualiza o estoque virtual\n    this.state.data.additionals.products.map(product => {\n      if (!product.virtual_stock) product.virtual_stock = product.stock;\n      if (product.id === id) product.stock = product.virtual_stock - productCount;\n    });\n    this.setState({ data: this.state.data });\n    this.setState({ updateValues: !this.state.updateValues });\n  }\n  handleAddService(id) {\n    const pro = this.state.data.additionals.services.find(i => i.id === id);\n\n    if (!pro) {\n      alert(\"Erro desconhecido\");\n      return;\n    }\n\n    let serviceCount = 1;\n    //verifica se o servico já está incluso na venda\n    const exists = this.state.data.services.find(i => i.service_id === id);\n    if (exists) {\n      this.state.data.services.map(service => {\n        if (service.service_id === id) {\n          service.count = service.count + 1;\n          if (service.discount_amount) service.amount = (service.unit_value - service.discount_amount) * service.count;\n          else service.amount = service.unit_value * service.count;\n\n          serviceCount = service.count;\n        }\n      });\n    } else {\n      this.state.data.services.push({\n        amount: pro.value.price,\n        count: 1,\n        discount_amount: null,\n        discount_percentage: null,\n        service_id: pro.id,\n        sale_id: this.state.data.id,\n        unit_value: pro.value.price,\n        service: pro,\n      });\n    }\n\n    this.setState({ data: this.state.data });\n    this.setState({ updateValues: !this.state.updateValues });\n  }\n\n  //responsavel por enviar o cancelamento da venda\n  /* cancel/save sale */\n  async handleCancelSaleCart() {\n    const { addToast, history } = this.props;\n\n    if (!this.state.cancelPassword) {\n      this.toggleModalCancelOpen();\n      addToast({ title: \"Digite a Senha\", content: \"Por favor, informe sua senha de acesso.\", time: new Date(), duration: 12000, color: \"warning\" });\n      return false;\n    }\n\n    this.setState({ canceling: true });\n\n    try {\n      await api.post(`/sale/cancel/${this.state.data.id}`, { password: this.state.cancelPassword });\n      addToast({ title: \"Sucesso!\", content: \"Venda/Serviço Cancelada(o) com sucesso.\", time: new Date(), duration: 12000, color: \"success\" });\n\n      history.push(\"/pdv/app\");\n    } catch (error) {\n      if (error.response) {\n        if (error.response.status) {\n          if (error.response.status == 401) {\n            addToast({\n              title: \"Acesso Negado!\",\n              content: \"Desculpe, não foi possivel cancelar a(o) venda/servico!\",\n              time: new Date(),\n              duration: 12000,\n              color: \"warning\",\n            });\n          }\n        }\n      } else {\n        addToast({ title: \"Erro desconhecido!\", content: \"Desculpe, Tente novamente\", time: new Date(), duration: 12000, color: \"error\" });\n      }\n      this.setState({ cancelPassword: \"\", canceling: false });\n      this.toggleModalCancelOpen();\n    }\n  }\n  //funcao responsavel por fechar a venda\n  async handleCloseSaleCart() {\n    const { addToast, history } = this.props;\n\n    const pack = {\n      client_id: this.state.client_id.value ?? \"\",\n      value: this.state.data.amount,\n      amount: this.state.data.amount,\n      discount_amount: this.state.data.discount_amount,\n      discount_percentage: this.state.data.discount_percentage,\n      origin: this.state.data.origin,\n      payment_method_id: this.state.payment_method_id,\n      state: \"closed\",\n      coupon: this.state.coupon,\n      services: this.state.data.services.filter(p => p.count > 0),\n      products: this.state.data.products.filter(p => p.count > 0),\n    };\n\n    if (pack.services.length > 0 || pack.products.length > 0) {\n      this.setState({ paying: true });\n      try {\n        await api.put(`/sales/${this.state.data.id}`, pack);\n        addToast({ title: \"Pagamento Realizado\", content: \"O Pagamento foi realizado com sucesso\", time: new Date(), duration: 12000, color: \"success\" });\n\n        history.push(\"/pdv/app\");\n      } catch (error) {\n        console.log(error);\n        addToast({ title: \"Erro!\", content: \"Tente novamente, erro ao efetuar pagamento\", time: new Date(), duration: 15000, color: \"error\" });\n      }\n      this.setState({ paying: false, coupon: \"\" });\n    } else {\n      this.toggleModalPaymentOpen();\n      addToast({\n        title: \"Carrinho Vazio\",\n        content: \"Por favor, adicione ao menos um serviço ou produto para eftuar o Pagamento.\",\n        time: new Date(),\n        duration: 12000,\n        color: \"warning\",\n      });\n      return false;\n    }\n  }\n\n  async handlePay(pay_id, pay_text) {\n    this.setState({ payment_method_text: pay_text, payment_method_id: pay_id });\n\n    this.toggleModalPaymentOpen();\n  }\n\n  async handleChangeCountItem(count) {\n    count = parseInt(count);\n    if (count > 0) {\n      if (count > this.state.item_edit_stock) {\n        this.setState({ item_edit_count: this.state.item_edit_stock });\n\n        alert(`${this.state.item_edit_stock} é quantidade máxima em estoque`);\n\n        const newAmount = (this.state.item_edit_value - this.state.item_edit_discount_amount) * this.state.item_edit_stock;\n        this.setState({ item_edit_amount: newAmount });\n      } else {\n        const newAmount = (this.state.item_edit_value - this.state.item_edit_discount_amount) * count;\n        this.setState({ item_edit_amount: newAmount, item_edit_count: count });\n      }\n    } else {\n      this.setState({ item_edit_count: 1 });\n      const newAmount = (this.state.item_edit_value - this.state.item_edit_discount_amount) * 1;\n      this.setState({ item_edit_amount: newAmount });\n    }\n  }\n\n  async handleRecalcValuesItem() {\n    if (this.state.item_edit_count > 0) {\n      if (this.state.item_edit_count > this.state.item_edit_stock) {\n        this.setState({ item_edit_count: this.state.item_edit_stock });\n\n        alert(`${this.state.item_edit_stock} é quantidade máxima em estoque`);\n\n        const newAmount = (this.state.item_edit_value - this.state.item_edit_discount_amount) * this.state.item_edit_stock;\n        this.setState({ item_edit_amount: newAmount });\n      } else {\n        const newAmount = (this.state.item_edit_value - this.state.item_edit_discount_amount) * this.state.item_edit_count;\n        this.setState({ item_edit_amount: newAmount, item_edit_count: this.state.item_edit_count });\n      }\n    } else {\n      this.setState({ item_edit_count: 1 });\n      const newAmount = (this.state.item_edit_value - this.state.item_edit_discount_amount) * 1;\n      this.setState({ item_edit_amount: newAmount });\n    }\n  }\n\n  async handleEditProductInSale(id) {\n    this.setState({ item_edit_type: \"products\" });\n\n    this.state.data.products.map(item => {\n      if (item.product_id === id) {\n        let product = this.state.data.additionals.products.find(i => i.id === item.product_id);\n        if (product.virtual_stock) product.virtual_stock = product.virtual_stock;\n        else product.virtual_stock = product.stock - item.count;\n\n        this.setState({ item_edit_id: item.product_id });\n        this.setState({ item_edit_name: `${item.product.name} (R$ ${item.unit_value?.toLocaleString()})` });\n        this.setState({ item_edit_count: item.count });\n        this.setState({ item_edit_stock: product.virtual_stock });\n        this.setState({ item_edit_value: item.unit_value });\n        this.setState({ item_edit_discount_amount: item.discount_amount ?? 0 });\n        this.setState({ item_edit_discount_percentage: item.discount_percentage ?? 0 });\n        this.setState({ item_edit_maximum_discount: item.product.maximum_discount ?? 0 });\n        this.setState({ item_edit_amount: item.amount });\n      }\n    });\n\n    this.toggleModalEditOpen();\n  }\n  async handleEditServiceInSale(id) {\n    this.setState({ item_edit_type: \"services\" });\n    this.state.data.services.map(item => {\n      if (item.service_id === id) {\n        this.setState({ item_edit_id: item.service_id });\n        this.setState({ item_edit_name: `${item.service.name} (R$ ${item.unit_value?.toLocaleString()})` });\n        this.setState({ item_edit_count: item.count });\n        this.setState({ item_edit_stock: 10000000 });\n        this.setState({ item_edit_value: item.unit_value });\n        this.setState({ item_edit_discount_amount: item.discount_amount ?? 0 });\n        this.setState({ item_edit_discount_percentage: item.discount_percentage ?? 0 });\n        this.setState({ item_edit_maximum_discount: 100 });\n        this.setState({ item_edit_amount: item.amount });\n      }\n    });\n\n    this.toggleModalEditOpen();\n  }\n\n  async handleCalcDiscountByAmount(value) {\n    const percent = (parseFloat(value) * 100) / this.state.item_edit_value;\n    this.setState({ item_edit_discount_percentage: percent, item_edit_discount_amount: value });\n\n    this.handleRecalcValuesItem();\n  }\n  async handleCalcDiscountByPercent(value) {\n    const discont = (value / 100) * this.state.item_edit_value;\n    await this.setState({ item_edit_discount_amount: discont, item_edit_discount_percentage: value });\n\n    this.handleRecalcValuesItem();\n  }\n\n  async handleEditSaleCart() {\n    if (this.state.item_edit_maximum_discount === 0 && this.state.item_edit_discount_percentage > 0) {\n      alert(`Não é permitido aplicar descontos nesse produto`);\n      this.handleCalcDiscountByPercent(0);\n    } else {\n      if (this.state.item_edit_discount_percentage > this.state.item_edit_maximum_discount) {\n        alert(`A porcentagem máxima de desconto é de: ${this.state.item_edit_maximum_discount?.toLocaleString()}%`);\n\n        this.setState({ item_edit_discount_percentage: this.state.item_edit_maximum_discount });\n        this.handleCalcDiscountByPercent(this.state.item_edit_maximum_discount);\n      } else {\n        if (this.state.item_edit_type === \"products\") {\n          this.state.data.products.map((item, index) => {\n            if (item.product_id === this.state.item_edit_id) {\n              let virtualStock = this.state.data.additionals.products.find(i => i.id === item.product_id);\n              if (virtualStock.virtual_stock) virtualStock = virtualStock.virtual_stock;\n              else virtualStock = virtualStock.stock;\n\n              this.state.data.products[index] = {\n                ...item,\n                count: this.state.item_edit_count,\n                amount: this.state.item_edit_amount,\n                discount_amount: this.state.item_edit_discount_amount,\n                discount_percentage: this.state.item_edit_discount_percentage,\n                //maximum_discount: itemEditMaximum_discount,\n                stock: virtualStock - this.state.item_edit_count,\n              };\n            }\n          });\n\n          this.state.data.additionals.products.map(product => {\n            if (!product.virtual_stock) product.virtual_stock = product.stock;\n            if (product.id === this.state.item_edit_id) {\n              product.stock = product.virtual_stock - this.state.item_edit_count;\n            }\n          });\n\n          this.setState({ data: this.state.data });\n        } else if (this.state.item_edit_type === \"services\") {\n          this.state.data.services.map((item, index) => {\n            if (item.service_id === this.state.item_edit_id) {\n              this.state.data.services[index] = {\n                ...item,\n                count: this.state.item_edit_count,\n                amount: this.state.item_edit_amount,\n                discount_amount: this.state.item_edit_discount_amount,\n                discount_percentage: this.state.item_edit_discount_percentage,\n                // maximum_discount: itemEditMaximum_discount,\n              };\n            }\n\n            this.setState({ data: this.state.data });\n          });\n        }\n        this.setState({ updateValues: !this.state.updateValues });\n        this.toggleModalEditOpen();\n      }\n    }\n  }\n\n  /* handle delete an item from the cart */\n  async handleDeleteItemCart() {\n    const { addToast } = this.props;\n\n    if (this.state.item_edit_type === \"products\") {\n      this.state.data.additionals.products.map(product => {\n        if (!product.virtual_stock) product.virtual_stock = product.stock;\n        if (product.id === this.state.item_edit_id) {\n          product.stock = product.virtual_stock;\n        }\n      });\n\n      const news = this.state.data.products.filter(item => item.product_id !== this.state.item_edit_id);\n\n      this.state.data.products = news;\n\n      this.setState({ data: this.state.data });\n    } else if (this.state.item_edit_type === \"services\") {\n      const news = this.state.data.services.filter(item => item.service_id !== this.state.item_edit_id);\n\n      this.state.data.services = news;\n\n      this.setState({ data: this.state.data });\n    }\n    addToast({\n      title: \"Sucesso\",\n      content: \"O item foi removido com sucesso\",\n      time: new Date(),\n      duration: 12000,\n      color: \"success\",\n    });\n\n    this.toggleModalEditOpen();\n    this.setState({ updateValues: !this.state.updateValues });\n  }\n\n  async handleSaveNewClient(event) {\n    event.preventDefault();\n    const { addToast } = this.props;\n\n    if (!this.state.client_name) {\n      alert(\"Informe o nome do Cliente\");\n      return false;\n    }\n\n    this.setState({ loading: true });\n\n    try {\n      const { data } = await api.post(`/crm/clients`, {\n        profile_id: 5,\n        cpf: this.state.client_cpf,\n        name: this.state.client_name ?? \"-\",\n        phone: this.state.client_phone,\n        email: this.state.client_email,\n        is_active: true,\n      });\n\n      if (data) {\n        this.setState({ client_id: { value: data.id, label: `${data.cpf ? `[${data.cpf}] - ` : data.phone ? `[${data.phone}] - ` : \"\"}${data.name}` } });\n      }\n\n      this.toggleModalNewClientOpen();\n    } catch (error) {\n      if (error.response) {\n        if (error.response.data && error.response.data.error === true) alert(error.response.data.more);\n        if (error.response.data.data)\n          this.setState({\n            client_id: {\n              value: error.response.data.data.id,\n              label: `${\n                error.response.data.data.cpf\n                  ? `[${error.response.data.data.cpf}] - `\n                  : error.response.data.data.phone\n                  ? `[${error.response.data.data.phone}] - `\n                  : \"\"\n              }${error.response.data.data.name}`,\n            },\n          });\n        else alert(\"Desculpe, não foi possivel salvar o cliente\");\n      } else alert(\"Desculpe, não foi possivel salvar o cliente\");\n\n      console.log(error);\n    }\n\n    this.setState({ loading: false });\n  }\n\n  getState(state) {\n    switch (state) {\n      case \"open\":\n        return \"Aberta\";\n        break;\n      case \"closed\":\n        return \"Fechada\";\n        break;\n      case \"canceled\":\n        return \"Cancelada\";\n        break;\n    }\n  }\n\n  getColor(state) {\n    switch (state) {\n      case \"open\":\n        return \"warning\";\n        break;\n      case \"closed\":\n        return \"success\";\n        break;\n      case \"canceled\":\n        return \"danger\";\n        break;\n    }\n  }\n\n  toggleModalCancelOpen() {\n    this.setState(prevState => ({\n      modalCancelOpen: !prevState.modalCancelOpen,\n    }));\n  }\n\n  toggleModalPaymentOpen() {\n    this.setState(prevState => ({\n      modalPaymentOpen: !prevState.modalPaymentOpen,\n    }));\n  }\n\n  toggleModalEditOpen() {\n    this.setState(prevState => ({\n      modalEditOpen: !prevState.modalEditOpen,\n    }));\n  }\n\n  componentDidMount() {\n    this.loadData();\n    this.loadPaymentMethods();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    let totalValue = 0;\n\n    if (prevState.updateValues !== this.state.updateValues) {\n      this.state.data.products.map(item => {\n        if (item.count > 0) {\n          totalValue = totalValue + item.amount;\n        }\n      });\n\n      this.state.data.services.map(item => {\n        if (item.count > 0) {\n          totalValue = totalValue + item.amount;\n        }\n      });\n\n      this.setState({ data: { ...this.state.data, amount: totalValue } });\n    }\n  }\n\n  render() {\n    const customStyles = {\n      control: (css, state) => {\n        return {\n          ...css,\n          borderColor: state.isFocused ? \"rgba(114, 94, 195, 0.6)\" : \"#eaecf0\",\n          \"&:hover\": {\n            borderColor: state.isFocused ? \"rgba(114, 94, 195, 0.6)\" : \"#eaecf0\",\n          },\n          boxShadow: state.isFocused ? \"0 0 0 0.2rem rgba(114, 94, 195, 0.2)\" : \"\",\n        };\n      },\n      option: (css, state) => {\n        let bgc = \"\";\n\n        if (state.isSelected) {\n          bgc = \"#725ec3\";\n        } else if (state.isFocused) {\n          bgc = \"rgba(114, 94, 195, 0.2)\";\n        }\n\n        return {\n          ...css,\n          backgroundColor: bgc,\n        };\n      },\n      multiValueLabel: css => {\n        return {\n          ...css,\n          color: \"#545b61\",\n          backgroundColor: \"#eeeeef\",\n        };\n      },\n    };\n\n    return (\n      <Fragment>\n        <div className=\"row vertical-gap\">\n          <div className=\"col-lg-4 order-lg-12 rui-task-sidebar order-1\">\n            <div className=\"card card-border-effect-kie\">\n              <div className=\"card-body py-30\">\n                <ul className=\"list-group list-group-flush rui-task-sidebar-list\">\n                  <li className=\"list-group-item\">\n                    <ul className=\"list-unstyled rui-task-info-list\">\n                      {this.state.data?.services?.map(item => (\n                        <li key={item.id}>\n                          <div className=\"rui-task-info-item\">\n                            <Icon name=\"edit\" className=\"mr-5\" onClick={() => this.handleEditServiceInSale(item.service.id)} />\n                            <span>\n                              <strong>x{item.count}</strong> -\n                            </span>\n                            <span className=\"list-items-sale\">{item.service.name}</span>\n                            <h6 className=\"h6 rui-task-sidebar-title text-right mb-0 mt-0\">\n                              <strong>R$ {item.amount.toLocaleString()}</strong>\n                            </h6>\n                          </div>\n                        </li>\n                      ))}\n\n                      {this.state.data?.products?.map(item => (\n                        <li key={item.product.id}>\n                          <div className=\"rui-task-info-item\">\n                            <Icon name=\"edit\" className=\"mr-5\" onClick={() => this.handleEditProductInSale(item.product.id)} />\n                            <span>\n                              <strong>x{item.count}</strong> -\n                            </span>\n                            <span className=\"list-items-sale\">{item.product.name}</span>\n                            <h6 className=\"h6 rui-task-sidebar-title text-right mb-0 mt-0\">\n                              <strong>R$ {item.amount.toLocaleString()}</strong>\n                            </h6>\n                          </div>\n                        </li>\n                      ))}\n                    </ul>\n                  </li>\n                  <li className=\"list-group-item\">\n                    <h5 className=\"h4 rui-task-sidebar-title text-right mb-0 mt-0\">\n                      <strong>R$ {this.state.data?.amount?.toLocaleString()}</strong>\n                    </h5>\n                  </li>\n                  <li className=\"list-group-item\">\n                    <h5 className=\"h4 rui-task-sidebar-title\">Forma de Pagamento</h5>\n                    <ul className=\"list-unstyled rui-task-project-list payment-types\">\n                      {this.state.payment_methods.map(item => (\n                        <li key={item.id} className=\"payment-type\">\n                          <Button block className=\"btn-hover-outline text-center\" color={item.color} onClick={() => this.handlePay(item.id, item.name)}>\n                            {item.name}\n                          </Button>\n                        </li>\n                      ))}\n                      <li className=\"payment-type\" style={{ flex: 1 }}>\n                        <Button block className=\"btn-hover-outline text-center\" color=\"light\" onClick={this.toggleModalCancelOpen}>\n                          Cancelar\n                        </Button>\n                      </li>\n                    </ul>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-lg-8 order-lg-0 order-0\">\n            <div className=\"bill-filters\">\n              <Row>\n                <Col xs={12} sm={8} md={8} className=\"mb-5\">\n                  <Label for=\"filter_type\">DIGITE P/ PESQUISAR O CLIENTE</Label>\n                  <AsyncSelect\n                    cacheOptions\n                    loadOptions={this.filterClient}\n                    defaultOptions\n                    onInputChange={this.handleInputChange}\n                    id=\"filter_type\"\n                    name=\"filter_type\"\n                    styles={customStyles}\n                    defaultValue={this.state.client_id}\n                    value={this.state.client_id}\n                    onChange={row => this.setState({ client_id: row })}\n                  />\n                </Col>\n                <Col className=\"mb-5\">\n                  <Label for=\"filter_type\">NÃO LOCALIZOU?</Label>\n                  <Button xs={12} sm={2} md={2} block className=\"btn-hover-outline text-center\" color=\"brand\" onClick={() => this.toggleModalNewClientOpen()}>\n                    NOVO CLIENTE\n                  </Button>\n                </Col>\n              </Row>\n            </div>\n            <div className=\"rui-task-comment p-0\">\n              <div className=\"rui-task-comment-text mt-0\">\n                <Row className=\"xs-gap p-0 flex-wrap\">\n                  {this.state.data?.additionals?.products.map(item => (\n                    <Col xs={12} sm={12} md={6} lg={4} className=\"mb-10\" key={item.id}>\n                      <Card>\n                        <CardImg\n                          alt=\"\"\n                          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADICAYAAACZBDirAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKNSURBVHgB7dQBEQAQAAAx9O/nnDAE+S3E5j73DYCgNQCiBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBrA+NWgUa6x769AAAAABJRU5ErkJggg==\"\n                          top\n                        />\n                        <CardBody className=\"card-body pt-10 pb-10 pl-15 pr-15\">\n                          <CardTitle className=\"h2\">{item.name}</CardTitle>\n                          <CardText>\n                            R$ {item.sale_price.toLocaleString()} <mark>{item.stock}</mark>\n                          </CardText>\n                          <Button color=\"brand\" onClick={() => this.handleAddProduct(item.id)}>\n                            Adicionar\n                          </Button>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                  ))}\n\n                  {this.state.data?.additionals?.services.map(item => (\n                    <Col xs={12} sm={12} md={6} lg={4} className=\"mb-10\" key={item.id}>\n                      <Card>\n                        <CardImg\n                          alt=\"\"\n                          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAADICAYAAACZBDirAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKNSURBVHgB7dQBEQAQAAAx9O/nnDAE+S3E5j73DYCgNQCiBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBLAECWQIEsgQIZAkQyBIgkCVAIEuAQJYAgSwBAlkCBLIECGQJEMgSIJAlQCBLgECWAIEsAQJZAgSyBAhkCRDIEiCQJUAgS4BAlgCBrA+NWgUa6x769AAAAABJRU5ErkJggg==\"\n                          top\n                        />\n                        <CardBody className=\"card-body pt-10 pb-10 pl-15 pr-15\">\n                          <CardTitle className=\"h2\">{item.name}</CardTitle>\n                          <CardText>R$ {item.value.price.toLocaleString()}</CardText>\n                          <Button color=\"brand\" onClick={() => this.handleAddService(item.id)}>\n                            Adicionar\n                          </Button>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                  ))}\n                </Row>\n              </div>\n            </div>\n            <div className=\"rui-task-comment\">\n              <div className=\"media media-show\">\n                <div className={`rui-task-status rui-task-status-${this.getColor(this.state.data.state)}`}>\n                  <div className=\"row vertical-gap align-items-center sm-gap\">\n                    <div className=\"col-auto\">\n                      <div className=\"rui-task-status-item\">\n                        <div className=\"rui-task-status-item-icon\">\n                          <Icon name=\"check-circle\" />\n                        </div>\n                        {this.getState(this.state.data.state)} em {this.state.data.date ? format(parseISO(this.state.data.date), \"dd'/'MM'/'yyyy HH':'mm\") : \"\"}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <span className=\"media-link\">\n                  <span className=\"media-body\">\n                    <span className=\"media-title\">Aberto por: {this.state.data?.user?.name}</span>\n                    <small className=\"media-title\">Cliente: {this.state.data.client_name}</small>\n                  </span>\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/** model que solicita a senha para cancelamento */}\n        <Modal isOpen={this.state.modalCancelOpen} toggle={this.toggleModalCancelOpen} className={this.props.className} fade>\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title h2\">Cancelar Venda/Serviço</h5>\n            <Button className=\"close\" color=\"\" onClick={this.toggleModalCancelOpen}>\n              <Icon name=\"x\" />\n            </Button>\n          </div>\n          <ModalBody>\n            Tem Certeza que deseja cancelar a venda #{this.state.data.id}?<br />\n            <FormGroup>\n              <Label for=\"password\">Senha</Label>\n              <Input\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"***\"\n                type=\"password\"\n                value={this.state.cancelPassword}\n                onChange={event => this.setState({ cancelPassword: event.target.value })}\n              />\n            </FormGroup>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModalCancelOpen}>\n              Fechar\n            </Button>{\" \"}\n            <Button color=\"brand\" onClick={this.handleCancelSaleCart} disabled={this.state.canceling}>\n              {this.state.canceling ? \"Cancelando...\" : \"Cancelar\"}\n            </Button>\n          </ModalFooter>\n        </Modal>\n\n        {/** model que confirma o pagamento */}\n        <Modal isOpen={this.state.modalPaymentOpen} toggle={this.toggleModalPaymentOpen} className={this.props.className} fade>\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title h2\">Confirmação de Pagamento</h5>\n            <Button className=\"close\" color=\"\" onClick={this.toggleModalPaymentOpen}>\n              <Icon name=\"x\" />\n            </Button>\n          </div>\n          <ModalBody>\n            Confirma o pagamento no <mark className=\"display-4\">{this.state.payment_method_text}</mark> no valor de R${\" \"}\n            <mark className=\"display-4\">{this.state.data?.amount?.toLocaleString()}</mark> ?<br />\n            <br />\n            <FormGroup>\n              <Label for=\"coupon\">Cupom Fiscal</Label>\n              <Input\n                id=\"coupon\"\n                name=\"coupon\"\n                placeholder=\"45654566\"\n                type=\"text\"\n                value={this.state.coupon}\n                onChange={event => this.setState({ coupon: event.target.value })}\n              />\n            </FormGroup>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModalPaymentOpen}>\n              Fechar\n            </Button>{\" \"}\n            <Button color=\"success\" onClick={this.handleCloseSaleCart} disabled={this.state.paying}>\n              {this.state.paying ? \"Efetuando Pagamento...\" : \"Confirmar\"}\n            </Button>\n          </ModalFooter>\n        </Modal>\n\n        {/** modal que edita os items na venda */}\n        <Modal isOpen={this.state.modalEditOpen} toggle={this.toggleModalEditOpen} className={this.props.className} fade>\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title h2\">Editar Item</h5>\n            <Button className=\"close\" color=\"\" onClick={this.toggleModalEditOpen}>\n              <Icon name=\"x\" />\n            </Button>\n          </div>\n          <ModalBody>\n            Editar item <mark className=\"display-4\">{this.state.item_edit_name}</mark>\n            <br />\n            <br />\n            <FormGroup>\n              <Label for=\"count\">Quantidade</Label>\n              <Input\n                id=\"count\"\n                name=\"count\"\n                placeholder=\"count\"\n                type=\"number\"\n                min={1}\n                max={this.state.item_edit_stock}\n                value={this.state.item_edit_count}\n                onChange={event => this.handleChangeCountItem(event.target.value)}\n                onKeyUp={event => this.handleChangeCountItem(event.target.value)}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"discount_amount\">R$ de Desconto</Label>\n              <Input\n                id=\"discount_amount\"\n                name=\"discount_amount\"\n                placeholder=\"0,00\"\n                type=\"text\"\n                value={this.state.item_edit_discount_amount}\n                onChange={event => this.handleCalcDiscountByAmount(event.target.value)}\n                onKeyUp={event => this.handleCalcDiscountByAmount(event.target.value)}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"item_edit_discount_percentage\">% de Desconto</Label>\n              <Input\n                id=\"item_edit_discount_percentage\"\n                name=\"item_edit_discount_percentage\"\n                placeholder=\"0,00\"\n                type=\"text\"\n                value={this.state.item_edit_discount_percentage}\n                onChange={event => this.handleCalcDiscountByPercent(event.target.value)}\n                onKeyUp={event => this.handleCalcDiscountByPercent(event.target.value)}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"item_edit_amount\">R$ Total</Label>\n              <Input id=\"item_edit_amount\" name=\"item_edit_amount\" placeholder=\"0,00\" type=\"text\" value={this.state.item_edit_amount} />\n            </FormGroup>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleModalEditOpen}>\n              Fechar\n            </Button>{\" \"}\n            <Button color=\"danger\" onClick={this.handleDeleteItemCart}>\n              Excluir da Venda\n            </Button>{\" \"}\n            <Button color=\"success\" onClick={this.handleEditSaleCart}>\n              Alterar\n            </Button>\n          </ModalFooter>\n        </Modal>\n\n        {/** modal adiciona cliente */}\n        <Modal isOpen={this.state.modalNewClientOpen} toggle={this.toggleModalNewClientOpen} className={this.props.className} fade>\n          <form onSubmit={this.handleSaveNewClient}>\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title h2\">Novo Cliente</h5>\n              <Button className=\"close\" color=\"\" onClick={this.toggleModalNewClientOpen}>\n                <Icon name=\"x\" />\n              </Button>\n            </div>\n            <ModalBody>\n              <FormGroup>\n                <Label for=\"client_name\">Nome *</Label>\n                <Input\n                  required\n                  id=\"client_name\"\n                  name=\"client_name\"\n                  placeholder=\"Nome Completo\"\n                  type=\"text\"\n                  value={this.state.client_name}\n                  onChange={event => this.setState({ client_name: event.target.value })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"client_cpf\">CPF</Label>\n                <Input\n                  id=\"client_cpf\"\n                  name=\"client_cpf\"\n                  placeholder=\"\"\n                  type=\"text\"\n                  value={this.state.client_cpf}\n                  onChange={event => this.setState({ client_cpf: event.target.value })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"client_phone\">Telefone</Label>\n                <Input\n                  id=\"client_phone\"\n                  name=\"client_phone\"\n                  placeholder=\"(99) 9 9999-9999\"\n                  type=\"text\"\n                  value={this.state.client_phone}\n                  onChange={event => this.setState({ client_phone: event.target.value })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"client_email\">E-mail</Label>\n                <Input\n                  id=\"client_email\"\n                  name=\"client_email\"\n                  placeholder=\"\"\n                  type=\"email\"\n                  value={this.state.client_email}\n                  onChange={event => this.setState({ client_email: event.target.value })}\n                />\n              </FormGroup>\n            </ModalBody>\n            <ModalFooter>\n              <Button color=\"secondary\" type=\"button\" onClick={this.toggleModalNewClientOpen}>\n                Cancelar\n              </Button>{\" \"}\n              <Button color=\"success\" disabled={this.state.loading}>\n                {this.state.loading ? \"Salvando...\" : \"Salvar\"}\n              </Button>\n            </ModalFooter>\n          </form>\n        </Modal>\n      </Fragment>\n    );\n  }\n}\n\nexport default connect(\n  ({ settings, toasts }) => ({\n    settings,\n    toasts,\n  }),\n  {\n    addToast: actionAddToast,\n  },\n)(withRouter(Content));\n"],"sourceRoot":""}